<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux æª”æ¡ˆç³»çµ±äº’å‹•å­¸ç¿’å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }

        .section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .terminal {
            background: #1e1e1e;
            border-radius: 10px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            color: #00ff00;
            min-height: 300px;
            max-height: 500px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .terminal-line {
            margin-bottom: 5px;
            line-height: 1.6;
        }

        .prompt {
            color: #4fc3f7;
        }

        .command {
            color: #ffeb3b;
        }

        .output {
            color: #ffffff;
        }

        .error {
            color: #ff5252;
        }

        .success {
            color: #69f0ae;
        }

        .input-area {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .command-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1em;
            font-family: 'Courier New', monospace;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .filesystem-tree {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            font-family: 'Courier New', monospace;
            max-height: 400px;
            overflow-y: auto;
        }

        .tree-item {
            padding: 5px;
            margin-left: 20px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .tree-item:hover {
            background: #f0f0f0;
        }

        .tree-item.current {
            background: #e3f2fd;
            font-weight: bold;
        }

        .tree-item.directory {
            color: #2196f3;
        }

        .tree-item.file {
            color: #757575;
        }

        .lesson-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lesson-card:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateX(5px);
        }

        .lesson-card h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .lesson-card.active {
            background: #e3f2fd;
            border-left-color: #2196f3;
        }

        .command-example {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }

        .hint {
            background: #fff9c4;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #fbc02d;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            border: none;
            background: #e0e0e0;
            cursor: pointer;
            border-radius: 8px 8px 0 0;
            font-weight: bold;
            transition: all 0.3s;
        }

        .tab.active {
            background: white;
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ Linux æª”æ¡ˆç³»çµ±äº’å‹•å­¸ç¿’å·¥å…·</h1>
            <p>é€éå¯¦éš›æ“ä½œå­¸ç¿’ Linux æª”æ¡ˆç³»çµ±æŒ‡ä»¤</p>
        </div>

        <div class="main-content">
            <!-- å·¦å´ï¼šæ•™å­¸èˆ‡çµ‚ç«¯æ©Ÿ -->
            <div>
                <div class="section">
                    <h2>ğŸ“š äº’å‹•å¼èª²ç¨‹</h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress" style="width: 0%">0%</div>
                    </div>
                    
                    <div id="lessons-container">
                        <!-- èª²ç¨‹å¡ç‰‡å°‡ç”± JavaScript ç”Ÿæˆ -->
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ’» çµ‚ç«¯æ©Ÿæ¨¡æ“¬å™¨</h2>
                    <div class="terminal" id="terminal">
                        <div class="terminal-line success">æ­¡è¿ä½¿ç”¨ Linux æª”æ¡ˆç³»çµ±å­¸ç¿’å·¥å…·ï¼</div>
                        <div class="terminal-line">è¼¸å…¥æŒ‡ä»¤é–‹å§‹å­¸ç¿’ï¼Œæˆ–é¸æ“‡ä¸Šæ–¹çš„èª²ç¨‹</div>
                        <div class="terminal-line">æç¤ºï¼šè¼¸å…¥ 'help' æŸ¥çœ‹å¯ç”¨æŒ‡ä»¤</div>
                    </div>
                    <div class="input-area">
                        <input type="text" class="command-input" id="commandInput" placeholder="è¼¸å…¥ Linux æŒ‡ä»¤...">
                        <button class="btn btn-primary" onclick="executeCommand()">åŸ·è¡Œ</button>
                        <button class="btn btn-secondary" onclick="clearTerminal()">æ¸…é™¤</button>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šæª”æ¡ˆç³»çµ±èˆ‡æ•™å­¸å…§å®¹ -->
            <div>
                <div class="section">
                    <h2>ğŸ—‚ï¸ æª”æ¡ˆç³»çµ±çµæ§‹</h2>
                    <div class="filesystem-tree" id="filesystem">
                        <!-- æª”æ¡ˆç³»çµ±æ¨¹å°‡ç”± JavaScript ç”Ÿæˆ -->
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ“– ç•¶å‰èª²ç¨‹å…§å®¹</h2>
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab('explanation')">èªªæ˜</button>
                        <button class="tab" onclick="switchTab('examples')">ç¯„ä¾‹</button>
                        <button class="tab" onclick="switchTab('practice')">ç·´ç¿’</button>
                    </div>
                    
                    <div id="explanation" class="tab-content active">
                        <h3>é¸æ“‡å·¦å´èª²ç¨‹é–‹å§‹å­¸ç¿’</h3>
                        <p>é»æ“Šä¸Šæ–¹çš„èª²ç¨‹å¡ç‰‡ï¼Œé–‹å§‹å­¸ç¿’ Linux æª”æ¡ˆç³»çµ±æ“ä½œï¼</p>
                    </div>
                    
                    <div id="examples" class="tab-content">
                        <h3>æŒ‡ä»¤ç¯„ä¾‹</h3>
                        <div id="examples-content"></div>
                    </div>
                    
                    <div id="practice" class="tab-content">
                        <h3>å¯¦ä½œç·´ç¿’</h3>
                        <div id="practice-content"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æª”æ¡ˆç³»çµ±æ¨¡æ“¬
        let filesystem = {
            '/': {
                type: 'directory',
                children: {
                    'home': {
                        type: 'directory',
                        children: {
                            'user': {
                                type: 'directory',
                                children: {
                                    'documents': {
                                        type: 'directory',
                                        children: {
                                            'report.txt': { type: 'file', content: 'é€™æ˜¯ä¸€ä»½å ±å‘Š' },
                                            'notes.txt': { type: 'file', content: 'å­¸ç¿’ç­†è¨˜' }
                                        }
                                    },
                                    'downloads': {
                                        type: 'directory',
                                        children: {
                                            'file.zip': { type: 'file', content: 'å£“ç¸®æª”æ¡ˆ' }
                                        }
                                    },
                                    'welcome.txt': { type: 'file', content: 'æ­¡è¿ä¾†åˆ° Linux ä¸–ç•Œï¼' }
                                }
                            }
                        }
                    },
                    'etc': {
                        type: 'directory',
                        children: {
                            'config.conf': { type: 'file', content: 'ç³»çµ±è¨­å®šæª”' }
                        }
                    },
                    'var': {
                        type: 'directory',
                        children: {
                            'log': {
                                type: 'directory',
                                children: {}
                            }
                        }
                    }
                }
            }
        };

        let currentPath = '/home/user';
        let commandHistory = [];
        let currentLesson = 0;

        const lessons = [
            {
                title: '1. èªè­˜ç›®å‰ä½ç½® (pwd)',
                description: 'å­¸ç¿’å¦‚ä½•æŸ¥çœ‹ç•¶å‰æ‰€åœ¨çš„ç›®éŒ„',
                explanation: `
                    <h3>pwd - Print Working Directory</h3>
                    <p><strong>pwd</strong> æŒ‡ä»¤ç”¨ä¾†é¡¯ç¤ºç›®å‰æ‰€åœ¨çš„å®Œæ•´è·¯å¾‘ã€‚</p>
                    <div class="hint">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> åœ¨ Linux ä¸­ï¼Œä½ éš¨æ™‚éƒ½åœ¨æŸå€‹ç›®éŒ„ä¸­ã€‚pwd å°±åƒæ˜¯å‘Šè¨´ä½ ã€Œä½ ç¾åœ¨åœ¨å“ªè£¡ã€ã€‚
                    </div>
                    <div class="command-example">$ pwd</div>
                    <p>åŸ·è¡Œå¾Œæœƒé¡¯ç¤ºé¡ä¼¼ï¼š<code>/home/user</code></p>
                `,
                examples: [
                    { cmd: 'pwd', desc: 'é¡¯ç¤ºç•¶å‰ç›®éŒ„çš„å®Œæ•´è·¯å¾‘' }
                ],
                practice: 'è©¦è‘—åœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥ <code>pwd</code> æŸ¥çœ‹ä½ ç›®å‰çš„ä½ç½®ï¼'
            },
            {
                title: '2. æŸ¥çœ‹ç›®éŒ„å…§å®¹ (ls)',
                description: 'åˆ—å‡ºç›®éŒ„ä¸­çš„æª”æ¡ˆå’Œè³‡æ–™å¤¾',
                explanation: `
                    <h3>ls - List Directory Contents</h3>
                    <p><strong>ls</strong> æŒ‡ä»¤ç”¨ä¾†åˆ—å‡ºç›®éŒ„ä¸­çš„æ‰€æœ‰æª”æ¡ˆå’Œå­ç›®éŒ„ã€‚</p>
                    <div class="hint">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> ls å°±åƒæ˜¯æ‰“é–‹ä¸€å€‹è³‡æ–™å¤¾ï¼ŒæŸ¥çœ‹è£¡é¢æœ‰ä»€éº¼æ±è¥¿ã€‚
                    </div>
                    <div class="command-example">$ ls</div>
                    <p>å¸¸ç”¨é¸é …ï¼š</p>
                    <ul>
                        <li><code>ls -l</code> : é¡¯ç¤ºè©³ç´°è³‡è¨Š</li>
                        <li><code>ls -a</code> : é¡¯ç¤ºéš±è—æª”æ¡ˆ</li>
                        <li><code>ls -lh</code> : ä»¥äººé¡å¯è®€çš„æ ¼å¼é¡¯ç¤ºå¤§å°</li>
                    </ul>
                `,
                examples: [
                    { cmd: 'ls', desc: 'åˆ—å‡ºç•¶å‰ç›®éŒ„çš„å…§å®¹' },
                    { cmd: 'ls -l', desc: 'ä»¥è©³ç´°æ ¼å¼åˆ—å‡º' },
                    { cmd: 'ls /home', desc: 'åˆ—å‡ºæŒ‡å®šç›®éŒ„çš„å…§å®¹' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>ls</code> æŸ¥çœ‹ç•¶å‰ç›®éŒ„æœ‰å“ªäº›æª”æ¡ˆå’Œè³‡æ–™å¤¾ï¼'
            },
            {
                title: '3. åˆ‡æ›ç›®éŒ„ (cd)',
                description: 'åœ¨ä¸åŒç›®éŒ„ä¹‹é–“ç§»å‹•',
                explanation: `
                    <h3>cd - Change Directory</h3>
                    <p><strong>cd</strong> æŒ‡ä»¤ç”¨ä¾†åˆ‡æ›åˆ°ä¸åŒçš„ç›®éŒ„ã€‚</p>
                    <div class="hint">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> cd å°±åƒæ˜¯åœ¨æª”æ¡ˆç³»çµ±ä¸­ã€Œèµ°å‹•ã€ã€‚
                    </div>
                    <h4>ç‰¹æ®Šç¬¦è™Ÿï¼š</h4>
                    <ul>
                        <li><code>.</code> : ç•¶å‰ç›®éŒ„</li>
                        <li><code>..</code> : ä¸Šä¸€å±¤ç›®éŒ„</li>
                        <li><code>~</code> : ä½¿ç”¨è€…å®¶ç›®éŒ„</li>
                        <li><code>/</code> : æ ¹ç›®éŒ„</li>
                    </ul>
                `,
                examples: [
                    { cmd: 'cd documents', desc: 'é€²å…¥ documents ç›®éŒ„' },
                    { cmd: 'cd ..', desc: 'å›åˆ°ä¸Šä¸€å±¤ç›®éŒ„' },
                    { cmd: 'cd ~', desc: 'å›åˆ°å®¶ç›®éŒ„' },
                    { cmd: 'cd /home/user/documents', desc: 'ä½¿ç”¨çµ•å°è·¯å¾‘åˆ‡æ›' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>cd documents</code> é€²å…¥ documents è³‡æ–™å¤¾ï¼Œç„¶å¾Œç”¨ <code>cd ..</code> å›ä¾†ï¼'
            },
            {
                title: '4. å»ºç«‹ç›®éŒ„ (mkdir)',
                description: 'å‰µå»ºæ–°çš„è³‡æ–™å¤¾',
                explanation: `
                    <h3>mkdir - Make Directory</h3>
                    <p><strong>mkdir</strong> æŒ‡ä»¤ç”¨ä¾†å»ºç«‹æ–°çš„ç›®éŒ„ã€‚</p>
                    <div class="hint">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> å°±åƒåœ¨æª”æ¡ˆç¸½ç®¡ä¸­ã€Œæ–°å¢è³‡æ–™å¤¾ã€ã€‚
                    </div>
                    <div class="command-example">$ mkdir è³‡æ–™å¤¾åç¨±</div>
                    <p>å¸¸ç”¨é¸é …ï¼š</p>
                    <ul>
                        <li><code>mkdir -p</code> : å»ºç«‹å¤šå±¤ç›®éŒ„ï¼ˆå¦‚æœçˆ¶ç›®éŒ„ä¸å­˜åœ¨ä¹Ÿæœƒä¸€èµ·å»ºç«‹ï¼‰</li>
                    </ul>
                `,
                examples: [
                    { cmd: 'mkdir projects', desc: 'å»ºç«‹åç‚º projects çš„ç›®éŒ„' },
                    { cmd: 'mkdir -p work/2024/jan', desc: 'ä¸€æ¬¡å»ºç«‹å¤šå±¤ç›®éŒ„' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>mkdir myproject</code> å»ºç«‹ä¸€å€‹æ–°è³‡æ–™å¤¾ï¼'
            },
            {
                title: '5. å»ºç«‹æª”æ¡ˆ (touch)',
                description: 'å‰µå»ºç©ºç™½æª”æ¡ˆ',
                explanation: `
                    <h3>touch - Create File</h3>
                    <p><strong>touch</strong> æŒ‡ä»¤ç”¨ä¾†å»ºç«‹ç©ºç™½æª”æ¡ˆã€‚</p>
                    <div class="hint">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> åŸæœ¬ touch ç”¨ä¾†æ›´æ–°æª”æ¡ˆæ™‚é–“ï¼Œä½†ä¹Ÿå¸¸ç”¨ä¾†å¿«é€Ÿå»ºç«‹æ–°æª”æ¡ˆã€‚
                    </div>
                    <div class="command-example">$ touch æª”æ¡ˆåç¨±</div>
                `,
                examples: [
                    { cmd: 'touch readme.txt', desc: 'å»ºç«‹ readme.txt æª”æ¡ˆ' },
                    { cmd: 'touch file1.txt file2.txt', desc: 'ä¸€æ¬¡å»ºç«‹å¤šå€‹æª”æ¡ˆ' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>touch test.txt</code> å»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆï¼'
            },
            {
                title: '6. åˆªé™¤æª”æ¡ˆ (rm)',
                description: 'ç§»é™¤æª”æ¡ˆæˆ–ç›®éŒ„',
                explanation: `
                    <h3>rm - Remove</h3>
                    <p><strong>rm</strong> æŒ‡ä»¤ç”¨ä¾†åˆªé™¤æª”æ¡ˆæˆ–ç›®éŒ„ã€‚</p>
                    <div class="hint">
                        <strong>âš ï¸ è­¦å‘Šï¼š</strong> rm åˆªé™¤çš„æª”æ¡ˆç„¡æ³•å¾©åŸï¼ä½¿ç”¨å‰è«‹ç¢ºèªã€‚
                    </div>
                    <p>å¸¸ç”¨é¸é …ï¼š</p>
                    <ul>
                        <li><code>rm -r</code> : éè¿´åˆªé™¤ç›®éŒ„åŠå…¶å…§å®¹</li>
                        <li><code>rm -i</code> : åˆªé™¤å‰è©¢å•ç¢ºèª</li>
                        <li><code>rm -f</code> : å¼·åˆ¶åˆªé™¤ï¼ˆä¸å»ºè­°æ–°æ‰‹ä½¿ç”¨ï¼‰</li>
                    </ul>
                `,
                examples: [
                    { cmd: 'rm test.txt', desc: 'åˆªé™¤ test.txt æª”æ¡ˆ' },
                    { cmd: 'rm -r oldfolder', desc: 'åˆªé™¤ç›®éŒ„åŠå…¶å…§å®¹' },
                    { cmd: 'rm -i file.txt', desc: 'åˆªé™¤å‰è©¢å•ç¢ºèª' }
                ],
                practice: 'è©¦è‘—å…ˆç”¨ <code>touch temp.txt</code> å»ºç«‹æª”æ¡ˆï¼Œå†ç”¨ <code>rm temp.txt</code> åˆªé™¤å®ƒï¼'
            },
            {
                title: '7. è¤‡è£½æª”æ¡ˆ (cp)',
                description: 'è¤‡è£½æª”æ¡ˆæˆ–ç›®éŒ„',
                explanation: `
                    <h3>cp - Copy</h3>
                    <p><strong>cp</strong> æŒ‡ä»¤ç”¨ä¾†è¤‡è£½æª”æ¡ˆæˆ–ç›®éŒ„ã€‚</p>
                    <div class="command-example">$ cp ä¾†æº ç›®çš„åœ°</div>
                    <p>å¸¸ç”¨é¸é …ï¼š</p>
                    <ul>
                        <li><code>cp -r</code> : éè¿´è¤‡è£½ç›®éŒ„</li>
                        <li><code>cp -i</code> : è¦†è“‹å‰è©¢å•</li>
                    </ul>
                `,
                examples: [
                    { cmd: 'cp file.txt backup.txt', desc: 'è¤‡è£½æª”æ¡ˆ' },
                    { cmd: 'cp -r folder1 folder2', desc: 'è¤‡è£½æ•´å€‹ç›®éŒ„' },
                    { cmd: 'cp file.txt ../other/', desc: 'è¤‡è£½åˆ°å…¶ä»–ç›®éŒ„' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>cp welcome.txt welcome_backup.txt</code> è¤‡è£½æª”æ¡ˆï¼'
            },
            {
                title: '8. ç§»å‹•/é‡æ–°å‘½å (mv)',
                description: 'ç§»å‹•æˆ–é‡æ–°å‘½åæª”æ¡ˆ',
                explanation: `
                    <h3>mv - Move</h3>
                    <p><strong>mv</strong> æŒ‡ä»¤ç”¨ä¾†ç§»å‹•æª”æ¡ˆæˆ–é‡æ–°å‘½åã€‚</p>
                    <div class="hint">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> mv æ—¢å¯ä»¥ç§»å‹•æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥é‡æ–°å‘½åï¼ˆæœ¬è³ªä¸Šæ˜¯ã€Œç§»å‹•åˆ°æ–°åç¨±ã€ï¼‰ã€‚
                    </div>
                    <div class="command-example">$ mv ä¾†æº ç›®çš„åœ°</div>
                `,
                examples: [
                    { cmd: 'mv old.txt new.txt', desc: 'é‡æ–°å‘½åæª”æ¡ˆ' },
                    { cmd: 'mv file.txt documents/', desc: 'ç§»å‹•æª”æ¡ˆåˆ°ç›®éŒ„' },
                    { cmd: 'mv -i file.txt dest/', desc: 'è¦†è“‹å‰è©¢å•' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>mv welcome.txt hello.txt</code> é‡æ–°å‘½åæª”æ¡ˆï¼'
            },
            {
                title: '9. è¬ç”¨å­—å…ƒ (*)',
                description: 'ä½¿ç”¨è¬ç”¨å­—å…ƒæ‰¹æ¬¡æ“ä½œ',
                explanation: `
                    <h3>Wildcards - è¬ç”¨å­—å…ƒ</h3>
                    <p>è¬ç”¨å­—å…ƒè®“ä½ å¯ä»¥ä¸€æ¬¡æ“ä½œå¤šå€‹æª”æ¡ˆã€‚</p>
                    <h4>å¸¸ç”¨è¬ç”¨å­—å…ƒï¼š</h4>
                    <ul>
                        <li><code>*</code> : åŒ¹é…ä»»æ„å­—å…ƒï¼ˆåŒ…å«ç„¡å­—å…ƒï¼‰</li>
                        <li><code>?</code> : åŒ¹é…å–®ä¸€å­—å…ƒ</li>
                        <li><code>[abc]</code> : åŒ¹é…æ‹¬è™Ÿå…§çš„ä»»ä¸€å­—å…ƒ</li>
                    </ul>
                    <div class="hint">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> é€™å°±æ˜¯ shell expansion çš„ä¸€éƒ¨åˆ†ï¼
                    </div>
                `,
                examples: [
                    { cmd: 'ls *.txt', desc: 'åˆ—å‡ºæ‰€æœ‰ .txt æª”æ¡ˆ' },
                    { cmd: 'rm temp*', desc: 'åˆªé™¤æ‰€æœ‰ temp é–‹é ­çš„æª”æ¡ˆ' },
                    { cmd: 'cp *.txt backup/', desc: 'è¤‡è£½æ‰€æœ‰ txt æª”æ¡ˆåˆ° backup' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>ls *.txt</code> åˆ—å‡ºæ‰€æœ‰æ–‡å­—æª”æ¡ˆï¼'
            },
            {
                title: '10. å¤§æ‹¬è™Ÿå±•é–‹ (Brace Expansion)',
                description: 'ä½¿ç”¨å¤§æ‹¬è™Ÿå¿«é€Ÿç”Ÿæˆå¤šå€‹é …ç›®',
                explanation: `
                    <h3>Brace Expansion - å¤§æ‹¬è™Ÿå±•é–‹</h3>
                    <p>å¤§æ‹¬è™Ÿå±•é–‹è®“ä½ å¯ä»¥å¿«é€Ÿç”Ÿæˆä¸€ç³»åˆ—çš„å­—ä¸²ã€‚</p>
                    <div class="command-example">$ echo {1..5}</div>
                    <p>æœƒè¼¸å‡ºï¼š1 2 3 4 5</p>
                    <h4>æ‡‰ç”¨ç¯„ä¾‹ï¼š</h4>
                    <ul>
                        <li><code>{1..10}</code> : æ•¸å­—åºåˆ—</li>
                        <li><code>{a..z}</code> : å­—æ¯åºåˆ—</li>
                        <li><code>{file1,file2,file3}</code> : è‡ªè¨‚é …ç›®</li>
                    </ul>
                `,
                examples: [
                    { cmd: 'mkdir {jan,feb,mar}', desc: 'å»ºç«‹ä¸‰å€‹æœˆä»½ç›®éŒ„' },
                    { cmd: 'touch file{1..5}.txt', desc: 'å»ºç«‹ file1.txt åˆ° file5.txt' },
                    { cmd: 'echo {A..C}{1..3}', desc: 'çµ„åˆå±•é–‹ï¼šA1 A2 A3 B1...' }
                ],
                practice: 'è©¦è‘—ä½¿ç”¨ <code>mkdir month{1..3}</code> å»ºç«‹ä¸‰å€‹è³‡æ–™å¤¾ï¼'
            }
        ];

        // åˆå§‹åŒ–
        function init() {
            renderLessons();
            renderFilesystem();
            updateProgress();
            
            document.getElementById('commandInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    executeCommand();
                }
            });
        }

        // æ¸²æŸ“èª²ç¨‹åˆ—è¡¨
        function renderLessons() {
            const container = document.getElementById('lessons-container');
            container.innerHTML = lessons.map((lesson, index) => `
                <div class="lesson-card ${index === currentLesson ? 'active' : ''}" onclick="selectLesson(${index})">
                    <h3>${lesson.title}</h3>
                    <p>${lesson.description}</p>
                </div>
            `).join('');
        }

        // é¸æ“‡èª²ç¨‹
        function selectLesson(index) {
            currentLesson = index;
            const lesson = lessons[index];
            
            // æ›´æ–°èª²ç¨‹å¡ç‰‡æ¨£å¼
            renderLessons();
            
            // æ›´æ–°èªªæ˜å…§å®¹
            document.getElementById('explanation').innerHTML = lesson.explanation;
            
            // æ›´æ–°ç¯„ä¾‹å…§å®¹
            const examplesHtml = lesson.examples.map(ex => `
                <div class="command-example">
                    <strong>$ ${ex.cmd}</strong><br>
                    <span style="color: #666;">${ex.desc}</span>
                </div>
            `).join('');
            document.getElementById('examples-content').innerHTML = examplesHtml;
            
            // æ›´æ–°ç·´ç¿’å…§å®¹
            document.getElementById('practice-content').innerHTML = `
                <div class="hint">
                    <strong>ğŸ“ ç·´ç¿’ä»»å‹™ï¼š</strong><br>
                    ${lesson.practice}
                </div>
            `;
            
            // åˆ‡æ›åˆ°èªªæ˜æ¨™ç±¤
            switchTab('explanation');
            
            // åœ¨çµ‚ç«¯æ©Ÿé¡¯ç¤ºèª²ç¨‹é–‹å§‹è¨Šæ¯
            addToTerminal(`é–‹å§‹èª²ç¨‹ï¼š${lesson.title}`, 'success');
        }

        // åˆ‡æ›æ¨™ç±¤
        function switchTab(tabName) {
            // ç§»é™¤æ‰€æœ‰ active é¡åˆ¥
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // æ·»åŠ  active åˆ°é¸ä¸­çš„æ¨™ç±¤
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // æ¸²æŸ“æª”æ¡ˆç³»çµ±
        function renderFilesystem() {
            const container = document.getElementById('filesystem');
            container.innerHTML = '<div style="font-weight: bold; margin-bottom: 10px;">ğŸ“ æª”æ¡ˆç³»çµ±çµæ§‹</div>' + 
                                  renderTree(filesystem['/'], '/', 0);
        }

        function renderTree(node, path, depth) {
            let html = '';
            const indent = '  '.repeat(depth);
            const isCurrent = path === currentPath;
            
            if (node.type === 'directory') {
                html += `<div class="tree-item directory ${isCurrent ? 'current' : ''}" style="margin-left: ${depth * 20}px">
                    ğŸ“ ${path === '/' ? '/' : path.split('/').pop() || '/'}
                    ${isCurrent ? ' â† ä½ åœ¨é€™è£¡' : ''}
                </div>`;
                
                if (node.children) {
                    for (let [name, child] of Object.entries(node.children)) {
                        const childPath = path === '/' ? `/${name}` : `${path}/${name}`;
                        html += renderTree(child, childPath, depth + 1);
                    }
                }
            } else {
                html += `<div class="tree-item file" style="margin-left: ${depth * 20}px">
                    ğŸ“„ ${path.split('/').pop()}
                </div>`;
            }
            
            return html;
        }

        // åŸ·è¡ŒæŒ‡ä»¤
        function executeCommand() {
            const input = document.getElementById('commandInput');
            const command = input.value.trim();
            
            if (!command) return;
            
            // é¡¯ç¤ºæŒ‡ä»¤
            addToTerminal(`<span class="prompt">user@linux:${currentPath}$</span> <span class="command">${command}</span>`);
            
            // è§£æä¸¦åŸ·è¡ŒæŒ‡ä»¤
            const parts = command.split(' ');
            const cmd = parts[0];
            const args = parts.slice(1);
            
            commandHistory.push(command);
            
            switch(cmd) {
                case 'pwd':
                    addToTerminal(currentPath, 'output');
                    break;
                    
                case 'ls':
                    handleLs(args);
                    break;
                    
                case 'cd':
                    handleCd(args);
                    break;
                    
                case 'mkdir':
                    handleMkdir(args);
                    break;
                    
                case 'touch':
                    handleTouch(args);
                    break;
                    
                case 'rm':
                    handleRm(args);
                    break;
                    
                case 'cp':
                    handleCp(args);
                    break;
                    
                case 'mv':
                    handleMv(args);
                    break;
                    
                case 'cat':
                    handleCat(args);
                    break;
                    
                case 'echo':
                    handleEcho(args);
                    break;
                    
                case 'clear':
                    clearTerminal();
                    input.value = '';
                    return;
                    
                case 'help':
                    showHelp();
                    break;
                    
                default:
                    addToTerminal(`æŒ‡ä»¤æœªæ‰¾åˆ°: ${cmd}`, 'error');
                    addToTerminal('è¼¸å…¥ help æŸ¥çœ‹å¯ç”¨æŒ‡ä»¤', 'output');
            }
            
            input.value = '';
            updateProgress();
            renderFilesystem();
        }

        // è™•ç† ls æŒ‡ä»¤
        function handleLs(args) {
            const targetPath = args[0] || currentPath;
            const node = getNodeAtPath(resolvePath(targetPath));
            
            if (!node) {
                addToTerminal(`ls: ç„¡æ³•å­˜å– '${targetPath}': æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            if (node.type !== 'directory') {
                addToTerminal(targetPath, 'output');
                return;
            }
            
            const items = Object.keys(node.children || {});
            if (items.length === 0) {
                addToTerminal('(ç©ºç›®éŒ„)', 'output');
            } else {
                items.forEach(item => {
                    const itemNode = node.children[item];
                    const icon = itemNode.type === 'directory' ? 'ğŸ“' : 'ğŸ“„';
                    addToTerminal(`${icon} ${item}`, 'output');
                });
            }
        }

        // è™•ç† cd æŒ‡ä»¤
        function handleCd(args) {
            if (args.length === 0) {
                currentPath = '/home/user';
                addToTerminal('å·²åˆ‡æ›åˆ°å®¶ç›®éŒ„', 'success');
                return;
            }
            
            const targetPath = args[0];
            let newPath;
            
            if (targetPath === '~') {
                newPath = '/home/user';
            } else if (targetPath === '/') {
                newPath = '/';
            } else {
                newPath = resolvePath(targetPath);
            }
            
            const node = getNodeAtPath(newPath);
            
            if (!node) {
                addToTerminal(`cd: ${targetPath}: æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            if (node.type !== 'directory') {
                addToTerminal(`cd: ${targetPath}: ä¸æ˜¯ç›®éŒ„`, 'error');
                return;
            }
            
            currentPath = newPath;
            addToTerminal(`å·²åˆ‡æ›åˆ° ${currentPath}`, 'success');
        }

        // è™•ç† mkdir æŒ‡ä»¤
        function handleMkdir(args) {
            if (args.length === 0) {
                addToTerminal('mkdir: ç¼ºå°‘æ“ä½œæ•¸', 'error');
                return;
            }
            
            const dirName = args[0];
            const fullPath = resolvePath(dirName);
            const parentPath = fullPath.substring(0, fullPath.lastIndexOf('/')) || '/';
            const newDirName = fullPath.split('/').pop();
            
            const parentNode = getNodeAtPath(parentPath);
            
            if (!parentNode) {
                addToTerminal(`mkdir: ç„¡æ³•å»ºç«‹ç›®éŒ„ '${dirName}': æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            if (parentNode.children[newDirName]) {
                addToTerminal(`mkdir: ç„¡æ³•å»ºç«‹ç›®éŒ„ '${dirName}': æª”æ¡ˆå·²å­˜åœ¨`, 'error');
                return;
            }
            
            parentNode.children[newDirName] = {
                type: 'directory',
                children: {}
            };
            
            addToTerminal(`å·²å»ºç«‹ç›®éŒ„ '${dirName}'`, 'success');
        }

        // è™•ç† touch æŒ‡ä»¤
        function handleTouch(args) {
            if (args.length === 0) {
                addToTerminal('touch: ç¼ºå°‘æª”æ¡ˆæ“ä½œæ•¸', 'error');
                return;
            }
            
            args.forEach(fileName => {
                const fullPath = resolvePath(fileName);
                const parentPath = fullPath.substring(0, fullPath.lastIndexOf('/')) || '/';
                const newFileName = fullPath.split('/').pop();
                
                const parentNode = getNodeAtPath(parentPath);
                
                if (!parentNode) {
                    addToTerminal(`touch: ç„¡æ³•å»ºç«‹ '${fileName}': æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                    return;
                }
                
                if (!parentNode.children[newFileName]) {
                    parentNode.children[newFileName] = {
                        type: 'file',
                        content: ''
                    };
                    addToTerminal(`å·²å»ºç«‹æª”æ¡ˆ '${fileName}'`, 'success');
                } else {
                    addToTerminal(`å·²æ›´æ–° '${fileName}' çš„æ™‚é–“æˆ³è¨˜`, 'output');
                }
            });
        }

        // è™•ç† rm æŒ‡ä»¤
        function handleRm(args) {
            if (args.length === 0) {
                addToTerminal('rm: ç¼ºå°‘æ“ä½œæ•¸', 'error');
                return;
            }
            
            const recursive = args.includes('-r');
            const filesToRemove = args.filter(arg => arg !== '-r');
            
            filesToRemove.forEach(fileName => {
                const fullPath = resolvePath(fileName);
                const parentPath = fullPath.substring(0, fullPath.lastIndexOf('/')) || '/';
                const targetName = fullPath.split('/').pop();
                
                const parentNode = getNodeAtPath(parentPath);
                
                if (!parentNode || !parentNode.children[targetName]) {
                    addToTerminal(`rm: ç„¡æ³•ç§»é™¤ '${fileName}': æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                    return;
                }
                
                const targetNode = parentNode.children[targetName];
                
                if (targetNode.type === 'directory' && !recursive) {
                    addToTerminal(`rm: ç„¡æ³•ç§»é™¤ '${fileName}': æ˜¯ç›®éŒ„ï¼ˆä½¿ç”¨ -r åˆªé™¤ç›®éŒ„ï¼‰`, 'error');
                    return;
                }
                
                delete parentNode.children[targetName];
                addToTerminal(`å·²åˆªé™¤ '${fileName}'`, 'success');
            });
        }

        // è™•ç† cp æŒ‡ä»¤
        function handleCp(args) {
            if (args.length < 2) {
                addToTerminal('cp: ç¼ºå°‘ç›®çš„åœ°æª”æ¡ˆæ“ä½œæ•¸', 'error');
                return;
            }
            
            const source = args[0];
            const dest = args[1];
            
            const sourcePath = resolvePath(source);
            const sourceNode = getNodeAtPath(sourcePath);
            
            if (!sourceNode) {
                addToTerminal(`cp: ç„¡æ³•å–å¾— '${source}' çš„ç‹€æ…‹: æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            const destPath = resolvePath(dest);
            const destParentPath = destPath.substring(0, destPath.lastIndexOf('/')) || '/';
            const destName = destPath.split('/').pop();
            
            const destParentNode = getNodeAtPath(destParentPath);
            
            if (!destParentNode) {
                addToTerminal(`cp: ç„¡æ³•å»ºç«‹ '${dest}': æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            destParentNode.children[destName] = JSON.parse(JSON.stringify(sourceNode));
            addToTerminal(`å·²è¤‡è£½ '${source}' åˆ° '${dest}'`, 'success');
        }

        // è™•ç† mv æŒ‡ä»¤
        function handleMv(args) {
            if (args.length < 2) {
                addToTerminal('mv: ç¼ºå°‘ç›®çš„åœ°æª”æ¡ˆæ“ä½œæ•¸', 'error');
                return;
            }
            
            const source = args[0];
            const dest = args[1];
            
            const sourcePath = resolvePath(source);
            const sourceParentPath = sourcePath.substring(0, sourcePath.lastIndexOf('/')) || '/';
            const sourceName = sourcePath.split('/').pop();
            const sourceParentNode = getNodeAtPath(sourceParentPath);
            
            if (!sourceParentNode || !sourceParentNode.children[sourceName]) {
                addToTerminal(`mv: ç„¡æ³•å–å¾— '${source}' çš„ç‹€æ…‹: æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            const sourceNode = sourceParentNode.children[sourceName];
            
            const destPath = resolvePath(dest);
            const destParentPath = destPath.substring(0, destPath.lastIndexOf('/')) || '/';
            const destName = destPath.split('/').pop();
            const destParentNode = getNodeAtPath(destParentPath);
            
            if (!destParentNode) {
                addToTerminal(`mv: ç„¡æ³•å»ºç«‹ '${dest}': æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            destParentNode.children[destName] = sourceNode;
            delete sourceParentNode.children[sourceName];
            addToTerminal(`å·²ç§»å‹• '${source}' åˆ° '${dest}'`, 'success');
        }

        // è™•ç† cat æŒ‡ä»¤
        function handleCat(args) {
            if (args.length === 0) {
                addToTerminal('cat: ç¼ºå°‘æª”æ¡ˆæ“ä½œæ•¸', 'error');
                return;
            }
            
            const fileName = args[0];
            const fullPath = resolvePath(fileName);
            const node = getNodeAtPath(fullPath);
            
            if (!node) {
                addToTerminal(`cat: ${fileName}: æ²’æœ‰æ­¤æª”æ¡ˆæˆ–ç›®éŒ„`, 'error');
                return;
            }
            
            if (node.type !== 'file') {
                addToTerminal(`cat: ${fileName}: æ˜¯ç›®éŒ„`, 'error');
                return;
            }
            
            addToTerminal(node.content || '(ç©ºç™½æª”æ¡ˆ)', 'output');
        }

        // è™•ç† echo æŒ‡ä»¤
        function handleEcho(args) {
            const text = args.join(' ');
            
            // è™•ç†å¤§æ‹¬è™Ÿå±•é–‹
            const expanded = expandBraces(text);
            addToTerminal(expanded, 'output');
        }

        // å¤§æ‹¬è™Ÿå±•é–‹
        function expandBraces(text) {
            // ç°¡å–®çš„æ•¸å­—ç¯„åœå±•é–‹ {1..5}
            const rangeRegex = /\{(\d+)\.\.(\d+)\}/g;
            text = text.replace(rangeRegex, (match, start, end) => {
                const result = [];
                for (let i = parseInt(start); i <= parseInt(end); i++) {
                    result.push(i);
                }
                return result.join(' ');
            });
            
            // å­—æ¯ç¯„åœå±•é–‹ {a..z}
            const letterRegex = /\{([a-z])\.\.([a-z])\}/g;
            text = text.replace(letterRegex, (match, start, end) => {
                const result = [];
                for (let i = start.charCodeAt(0); i <= end.charCodeAt(0); i++) {
                    result.push(String.fromCharCode(i));
                }
                return result.join(' ');
            });
            
            // é€—è™Ÿåˆ†éš”å±•é–‹ {a,b,c}
            const commaRegex = /\{([^}]+)\}/g;
            text = text.replace(commaRegex, (match, content) => {
                return content.split(',').join(' ');
            });
            
            return text;
        }

        // é¡¯ç¤ºå¹«åŠ©
        function showHelp() {
            const helpText = `
å¯ç”¨æŒ‡ä»¤ï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‚ æª”æ¡ˆç³»çµ±å°èˆªï¼š
  pwd              é¡¯ç¤ºç•¶å‰ç›®éŒ„
  ls [è·¯å¾‘]        åˆ—å‡ºç›®éŒ„å…§å®¹
  cd [è·¯å¾‘]        åˆ‡æ›ç›®éŒ„
  
ğŸ“ æª”æ¡ˆæ“ä½œï¼š
  touch [æª”æ¡ˆ]     å»ºç«‹æª”æ¡ˆ
  mkdir [ç›®éŒ„]     å»ºç«‹ç›®éŒ„
  rm [-r] [æª”æ¡ˆ]   åˆªé™¤æª”æ¡ˆï¼ˆ-r åˆªé™¤ç›®éŒ„ï¼‰
  cp [ä¾†æº] [ç›®æ¨™] è¤‡è£½æª”æ¡ˆ
  mv [ä¾†æº] [ç›®æ¨™] ç§»å‹•/é‡æ–°å‘½å
  cat [æª”æ¡ˆ]       é¡¯ç¤ºæª”æ¡ˆå…§å®¹
  
ğŸ¯ å…¶ä»–ï¼š
  echo [æ–‡å­—]      é¡¯ç¤ºæ–‡å­—ï¼ˆæ”¯æ´å±•é–‹ï¼‰
  clear            æ¸…é™¤çµ‚ç«¯æ©Ÿ
  help             é¡¯ç¤ºæ­¤å¹«åŠ©è¨Šæ¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æç¤ºï¼šé¸æ“‡å·¦å´èª²ç¨‹é–‹å§‹å­¸ç¿’ï¼
            `;
            addToTerminal(helpText, 'output');
        }

        // è§£æè·¯å¾‘
        function resolvePath(path) {
            if (path.startsWith('/')) {
                return path;
            }
            
            if (path === '.') {
                return currentPath;
            }
            
            if (path === '..') {
                const parts = currentPath.split('/').filter(p => p);
                parts.pop();
                return '/' + parts.join('/');
            }
            
            if (path.startsWith('../')) {
                const parts = currentPath.split('/').filter(p => p);
                const upLevels = path.match(/\.\.\//g).length;
                for (let i = 0; i < upLevels; i++) {
                    parts.pop();
                }
                const remaining = path.replace(/\.\.\//g, '');
                return '/' + parts.join('/') + (remaining ? '/' + remaining : '');
            }
            
            return currentPath === '/' ? `/${path}` : `${currentPath}/${path}`;
        }

        // ç²å–è·¯å¾‘å°æ‡‰çš„ç¯€é»
        function getNodeAtPath(path) {
            if (path === '/') {
                return filesystem['/'];
            }
            
            const parts = path.split('/').filter(p => p);
            let current = filesystem['/'];
            
            for (let part of parts) {
                if (!current.children || !current.children[part]) {
                    return null;
                }
                current = current.children[part];
            }
            
            return current;
        }

        // æ·»åŠ åˆ°çµ‚ç«¯æ©Ÿ
        function addToTerminal(text, className = '') {
            const terminal = document.getElementById('terminal');
            const line = document.createElement('div');
            line.className = `terminal-line ${className}`;
            line.innerHTML = text;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // æ¸…é™¤çµ‚ç«¯æ©Ÿ
        function clearTerminal() {
            document.getElementById('terminal').innerHTML = '';
        }

        // æ›´æ–°é€²åº¦
        function updateProgress() {
            const progress = Math.round((currentLesson / lessons.length) * 100);
            const progressBar = document.getElementById('progress');
            progressBar.style.width = `${progress}%`;
            progressBar.textContent = `${progress}%`;
        }

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>
